import{d as m,g as b}from"./util.aa084a86.js";/* empty css             */const w={};for(let t=0;t<m.length;t++){const n=m[t][0];let o=Math.round(parseFloat(m[t][1])),r=b(o);w[n]=r}document.querySelector("#clear-btn").onclick=()=>{confirm("Delete local data? (server data is retained in the public dataset)")&&(localStorage.clear(),window.location.href="/")};const g=document.querySelector("#results-summary");if(localStorage.getItem("results")){const t=JSON.parse(localStorage.getItem("results")),n=t.guesses,o=t.guesses.filter(e=>e.correct).length,r=Math.round(o/n.length*100);g.textContent=`Accuracy: ${r}%. Total answered: ${n.length}. Correct: ${o}`;const a=document.querySelector("#results-table");for(let e=0;e<n.length;e++){const l=n[e],s=document.createElement("tr"),{job_title:c,guess:i}=l,u=w[c],f=u==i?"\u2705":"\u274C";l.answer=u;let d="blue";u=="republican"?d="red":u=="mixed"&&(d="mixed"),s.innerHTML=`<td>${f}${c}</td>
        <td>${i}</td>
        <td class=${d}>${u}</td>`,a.appendChild(s)}document.querySelector("#download-data-btn").onclick=()=>{const e=y(n),l=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(l),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download","shape-of-america-user-data.csv"),c.click(),window.URL.revokeObjectURL(s)}}else g.textContent="No results found!";function h(t,n=!0){let o,r,a,e,l,s,c;for(o=document.querySelector("#results-table-container"),a=!0;a;){for(a=!1,r=o.rows,e=1;e<r.length-1;e++){if(c=!1,l=r[e].getElementsByTagName("td")[t],s=r[e+1].getElementsByTagName("td")[t],!n){let i=l;l=s,s=i}if(l.innerHTML.toLowerCase()>s.innerHTML.toLowerCase()){c=!0;break}}c&&(r[e].parentNode.insertBefore(r[e+1],r[e]),a=!0)}}document.querySelector("#results-table-container").querySelectorAll("th").forEach(t=>t.addEventListener("click",n=>{window.column_toggled==null&&(window.column_toggled={});const o=n.target.dataset.index;window.column_toggled[o]=!window.column_toggled[o],h(o,window.column_toggled[o])}));function y(t){const n=Object.keys(t[0]),o=[n.join(",")];return t.forEach(r=>{const a=n.map(e=>`"${r[e]}"`);o.push(a.join(","))}),o.join(`
`)}
